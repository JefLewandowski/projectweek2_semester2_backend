{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Gebruiker/Downloads/Product/Product/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: {\n      isAuthenticated: false,\n      name: \"\",\n      email: \"\",\n      idToken: \"\",\n      accessToken: \"\",\n      partner: false\n    },\n    endpoints: {\n      login: \"http://localhost:3000/login\",\n      partnercheck: \"http://localhost:8000/check\",\n      products: \"http://localhost:8000/products\"\n    }\n  },\n  mutations: {\n    logout: function logout(state) {\n      state.user.isAuthenticated = false;\n      state.user.name = \"\";\n      state.user.email = \"\";\n      state.user.idToken = \"\";\n      state.user.accessToken = \"\";\n      state.user.partner = \"\";\n    },\n    login: function login(state, payload) {\n      state.user.isAuthenticated = true;\n      state.user.name = payload.name;\n      state.user.email = payload.email;\n      state.user.idToken = payload.idToken;\n      state.user.accessToken = payload.accessToken;\n    },\n    SET_PARTNER: function SET_PARTNER(state, partner) {\n      state.user.partner = partner;\n    }\n  },\n  actions: {\n    checkPartner: function checkPartner(_ref) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var state, commit, accessToken, AuthStr, AuthHeader, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref.state, commit = _ref.commit;\n                accessToken = state.user.accessToken;\n                console.log(\"checking partner access\", state.endpoints.partnercheck);\n                AuthStr = 'Bearer '.concat(accessToken);\n                AuthHeader = {\n                  'Authorization': AuthStr\n                };\n                console.log(\"AuthToken=\", AuthHeader);\n                _context.next = 8;\n                return fetch(state.endpoints.partnercheck, {\n                  method: 'GET',\n                  headers: {\n                    'Authorization': AuthStr\n                  }\n                });\n\n              case 8:\n                response = _context.sent;\n                console.log(\"partneraccess\", response);\n\n                if (response.ok) {\n                  commit('SET_PARTNER', true);\n                  console.log(\"TRUE\");\n                } else {\n                  commit('SET_PARTNER', false);\n                  console.log(\"FALSE\");\n                }\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    registerProduct: function registerProduct(_ref2, obj) {\n      var state = _ref2.state;\n      var productsurl = state.endpoints.products;\n      console.log(productsurl);\n      var accessToken = state.user.accessToken;\n      var AuthStr = 'Bearer '.concat(accessToken);\n      console.log(AuthStr);\n      console.log(obj);\n      axios(productsurl, {\n        method: 'POST',\n        headers: {\n          'Accept': '*/*',\n          'Content-Type': 'application/json',\n          'Authorization': AuthStr\n        },\n        credentials: 'include',\n        data: obj\n      }).then(function (response) {\n        console.log('Response:', response);\n      }).catch(function (error) {\n        console.error('Error:', error);\n      });\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["C:/Users/Gebruiker/Downloads/Product/Product/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","user","isAuthenticated","name","email","idToken","accessToken","partner","endpoints","login","partnercheck","products","mutations","logout","payload","SET_PARTNER","actions","checkPartner","commit","console","log","AuthStr","concat","AuthHeader","fetch","method","headers","response","ok","registerProduct","obj","productsurl","credentials","data","then","catch","error","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: {\n      isAuthenticated: false,\n      name: \"\",\n      email: \"\",\n      idToken: \"\",\n      accessToken: \"\",\n      partner: false\n    },\n    endpoints: {\n      login: \"http://localhost:3000/login\",\n      partnercheck: \"http://localhost:8000/check\",\n      products: \"http://localhost:8000/products\",\n    },\n  },\n  mutations: {\n    logout(state) {\n      state.user.isAuthenticated = false;\n      state.user.name = \"\";\n      state.user.email =\"\";\n      state.user.idToken =\"\";\n      state.user.accessToken = \"\";\n      state.user.partner = \"\";\n    },\n    login(state, payload) {\n      state.user.isAuthenticated = true;\n      state.user.name = payload.name;\n      state.user.email =payload.email;\n      state.user.idToken =payload.idToken;\n      state.user.accessToken =payload.accessToken;\n    },\n     SET_PARTNER(state, partner) { \n      state.user.partner = partner;\n    },\n  },\n  actions: {\n    async checkPartner({ state, commit }) {\n      let accessToken = state.user.accessToken;\n      console.log(\"checking partner access\", state.endpoints.partnercheck);\n      const AuthStr = 'Bearer '.concat(accessToken);\n      const AuthHeader = { 'Authorization': AuthStr};\n      console.log(\"AuthToken=\",AuthHeader);\n      let response = await fetch(state.endpoints.partnercheck, { \n        method: 'GET',\n        headers: {\n          'Authorization': AuthStr }\n        });\n      console.log(\"partneraccess\",response);\n      if (response.ok) {\n        commit('SET_PARTNER', true);\n        console.log(\"TRUE\");\n      } else {\n        commit('SET_PARTNER', false);\n        console.log(\"FALSE\");\n      }\n    },\n    registerProduct({ state }, obj) {\n      let productsurl = state.endpoints.products;\n      console.log(productsurl);\n      let accessToken = state.user.accessToken;\n      const AuthStr = 'Bearer '.concat(accessToken);\n      console.log(AuthStr);\n      console.log(obj);\n      axios(productsurl, { \n          method: 'POST',\n          headers: {\n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': AuthStr\n          },\n          credentials: 'include',\n          data: obj\n      })\n      .then(response => {\n        console.log('Response:', response);\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n    },\n  },\n  modules: {\n  }\n})"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Gebruiker/Downloads/Product/Product/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    productsArray: [],\n    user: {\n      isAuthenticated: false,\n      name: \"\",\n      email: \"\",\n      idToken: \"\",\n      accessToken: \"\",\n      partner: false\n    },\n    endpoints: {\n      login: \"http://localhost:3000/login\",\n      partnercheck: \"http://localhost:8000/check\",\n      products: \"http://localhost:8000/products\"\n    }\n  },\n  getters: {\n    getProducts: function getProducts(state) {\n      return state.productsArray;\n    }\n  },\n  mutations: {\n    logout: function logout(state) {\n      state.user.isAuthenticated = false;\n      state.user.name = \"\";\n      state.user.email = \"\";\n      state.user.idToken = \"\";\n      state.user.accessToken = \"\";\n      state.user.partner = \"\";\n    },\n    login: function login(state, payload) {\n      state.user.isAuthenticated = true;\n      state.user.name = payload.name;\n      state.user.email = payload.email;\n      state.user.idToken = payload.idToken;\n      state.user.accessToken = payload.accessToken;\n    },\n    SET_PARTNER: function SET_PARTNER(state, partner) {\n      state.user.partner = partner;\n    }\n  },\n  actions: {\n    getProducts: function getProducts(_ref) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var state, accessToken, AuthStr, AuthHeader, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref.state;\n                accessToken = state.user.accessToken;\n                AuthStr = 'Bearer '.concat(accessToken);\n                AuthHeader = {\n                  'Authorization': AuthStr\n                };\n                _context.next = 6;\n                return fetch(state.endpoints.products, {\n                  method: 'GET',\n                  headers: {\n                    'Authorization': AuthHeader\n                  }\n                });\n\n              case 6:\n                response = _context.sent;\n\n                if (response.ok) {\n                  state.productsArray = response.json();\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    checkPartner: function checkPartner(_ref2) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var state, commit, accessToken, AuthStr, AuthHeader, response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref2.state, commit = _ref2.commit;\n                accessToken = state.user.accessToken;\n                console.log(\"checking partner access\", state.endpoints.partnercheck);\n                AuthStr = 'Bearer '.concat(accessToken);\n                AuthHeader = {\n                  'Authorization': AuthStr\n                };\n                console.log(\"AuthToken=\", AuthHeader);\n                _context2.next = 8;\n                return fetch(state.endpoints.partnercheck, {\n                  method: 'GET',\n                  headers: {\n                    'Authorization': AuthStr\n                  }\n                });\n\n              case 8:\n                response = _context2.sent;\n                console.log(\"partneraccess\", response);\n\n                if (response.ok) {\n                  commit('SET_PARTNER', true);\n                  console.log(\"TRUE\");\n                } else {\n                  commit('SET_PARTNER', false);\n                  console.log(\"FALSE\");\n                }\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    registerProduct: function registerProduct(_ref3, obj) {\n      var state = _ref3.state;\n      var productsurl = state.endpoints.products;\n      console.log(productsurl);\n      var accessToken = state.user.accessToken;\n      var AuthStr = 'Bearer '.concat(accessToken);\n      console.log(AuthStr);\n      console.log(obj);\n      axios(productsurl, {\n        method: 'POST',\n        headers: {\n          'Accept': '*/*',\n          'Content-Type': 'application/json',\n          'Authorization': AuthStr\n        },\n        credentials: 'include',\n        data: obj\n      }).then(function (response) {\n        console.log('Response:', response);\n      }).catch(function (error) {\n        console.error('Error:', error);\n      });\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["C:/Users/Gebruiker/Downloads/Product/Product/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","productsArray","user","isAuthenticated","name","email","idToken","accessToken","partner","endpoints","login","partnercheck","products","getters","getProducts","mutations","logout","payload","SET_PARTNER","actions","AuthStr","concat","AuthHeader","fetch","method","headers","response","ok","json","checkPartner","commit","console","log","registerProduct","obj","productsurl","credentials","data","then","catch","error","modules"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,aAAa,EAAE,EADV;AAELC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAE,KADb;AAEJC,MAAAA,IAAI,EAAE,EAFF;AAGJC,MAAAA,KAAK,EAAE,EAHH;AAIJC,MAAAA,OAAO,EAAE,EAJL;AAKJC,MAAAA,WAAW,EAAE,EALT;AAMJC,MAAAA,OAAO,EAAE;AANL,KAFD;AAULC,IAAAA,SAAS,EAAE;AACTC,MAAAA,KAAK,EAAE,6BADE;AAETC,MAAAA,YAAY,EAAE,6BAFL;AAGTC,MAAAA,QAAQ,EAAE;AAHD;AAVN,GADqB;AAiB5BC,EAAAA,OAAO,EAAE;AACLC,IAAAA,WADK,uBACOd,KADP,EACc;AACjB,aAAOA,KAAK,CAACC,aAAb;AACD;AAHI,GAjBmB;AAsB5Bc,EAAAA,SAAS,EAAE;AACTC,IAAAA,MADS,kBACFhB,KADE,EACK;AACZA,MAAAA,KAAK,CAACE,IAAN,CAAWC,eAAX,GAA6B,KAA7B;AACAH,MAAAA,KAAK,CAACE,IAAN,CAAWE,IAAX,GAAkB,EAAlB;AACAJ,MAAAA,KAAK,CAACE,IAAN,CAAWG,KAAX,GAAkB,EAAlB;AACAL,MAAAA,KAAK,CAACE,IAAN,CAAWI,OAAX,GAAoB,EAApB;AACAN,MAAAA,KAAK,CAACE,IAAN,CAAWK,WAAX,GAAyB,EAAzB;AACAP,MAAAA,KAAK,CAACE,IAAN,CAAWM,OAAX,GAAqB,EAArB;AACD,KARQ;AASTE,IAAAA,KATS,iBASHV,KATG,EASIiB,OATJ,EASa;AACpBjB,MAAAA,KAAK,CAACE,IAAN,CAAWC,eAAX,GAA6B,IAA7B;AACAH,MAAAA,KAAK,CAACE,IAAN,CAAWE,IAAX,GAAkBa,OAAO,CAACb,IAA1B;AACAJ,MAAAA,KAAK,CAACE,IAAN,CAAWG,KAAX,GAAkBY,OAAO,CAACZ,KAA1B;AACAL,MAAAA,KAAK,CAACE,IAAN,CAAWI,OAAX,GAAoBW,OAAO,CAACX,OAA5B;AACAN,MAAAA,KAAK,CAACE,IAAN,CAAWK,WAAX,GAAwBU,OAAO,CAACV,WAAhC;AACD,KAfQ;AAgBRW,IAAAA,WAhBQ,uBAgBIlB,KAhBJ,EAgBWQ,OAhBX,EAgBoB;AAC3BR,MAAAA,KAAK,CAACE,IAAN,CAAWM,OAAX,GAAqBA,OAArB;AACD;AAlBQ,GAtBiB;AA0C5BW,EAAAA,OAAO,EAAE;AACDL,IAAAA,WADC,6BACmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAPd,gBAAAA,KAAO,QAAPA,KAAO;AACpBO,gBAAAA,WADoB,GACNP,KAAK,CAACE,IAAN,CAAWK,WADL;AAElBa,gBAAAA,OAFkB,GAER,UAAUC,MAAV,CAAiBd,WAAjB,CAFQ;AAGlBe,gBAAAA,UAHkB,GAGL;AAAE,mCAAiBF;AAAnB,iBAHK;AAAA;AAAA,uBAIDG,KAAK,CAACvB,KAAK,CAACS,SAAN,CAAgBG,QAAjB,EAA2B;AACnDY,kBAAAA,MAAM,EAAE,KAD2C;AAEnDC,kBAAAA,OAAO,EAAE;AACP,qCAAiBH;AADV;AAF0C,iBAA3B,CAJJ;;AAAA;AAIlBI,gBAAAA,QAJkB;;AAUtB,oBAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf3B,kBAAAA,KAAK,CAACC,aAAN,GAAsByB,QAAQ,CAACE,IAAT,EAAtB;AACD;;AAZqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAazB,KAdM;AAeDC,IAAAA,YAfC,+BAe+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjB7B,gBAAAA,KAAiB,SAAjBA,KAAiB,EAAV8B,MAAU,SAAVA,MAAU;AAChCvB,gBAAAA,WADgC,GAClBP,KAAK,CAACE,IAAN,CAAWK,WADO;AAEpCwB,gBAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuChC,KAAK,CAACS,SAAN,CAAgBE,YAAvD;AACMS,gBAAAA,OAH8B,GAGpB,UAAUC,MAAV,CAAiBd,WAAjB,CAHoB;AAI9Be,gBAAAA,UAJ8B,GAIjB;AAAE,mCAAiBF;AAAnB,iBAJiB;AAKpCW,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBV,UAAzB;AALoC;AAAA,uBAMfC,KAAK,CAACvB,KAAK,CAACS,SAAN,CAAgBE,YAAjB,EAA+B;AACvDa,kBAAAA,MAAM,EAAE,KAD+C;AAEvDC,kBAAAA,OAAO,EAAE;AACP,qCAAiBL;AADV;AAF8C,iBAA/B,CANU;;AAAA;AAMhCM,gBAAAA,QANgC;AAWpCK,gBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BN,QAA5B;;AACA,oBAAIA,QAAQ,CAACC,EAAb,EAAiB;AACfG,kBAAAA,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD,iBAHD,MAGO;AACLF,kBAAAA,MAAM,CAAC,aAAD,EAAgB,KAAhB,CAAN;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;;AAlBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBrC,KAlCM;AAmCPC,IAAAA,eAnCO,kCAmCoBC,GAnCpB,EAmCyB;AAAA,UAAdlC,KAAc,SAAdA,KAAc;AAC9B,UAAImC,WAAW,GAAGnC,KAAK,CAACS,SAAN,CAAgBG,QAAlC;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAYG,WAAZ;AACA,UAAI5B,WAAW,GAAGP,KAAK,CAACE,IAAN,CAAWK,WAA7B;AACA,UAAMa,OAAO,GAAG,UAAUC,MAAV,CAAiBd,WAAjB,CAAhB;AACAwB,MAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACArC,MAAAA,KAAK,CAACsC,WAAD,EAAc;AACfX,QAAAA,MAAM,EAAE,MADO;AAEfC,QAAAA,OAAO,EAAE;AACP,oBAAU,KADH;AAEP,0BAAgB,kBAFT;AAGP,2BAAiBL;AAHV,SAFM;AAOfgB,QAAAA,WAAW,EAAE,SAPE;AAQfC,QAAAA,IAAI,EAAEH;AARS,OAAd,CAAL,CAUCI,IAVD,CAUM,UAAAZ,QAAQ,EAAI;AAChBK,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBN,QAAzB;AACD,OAZD,EAaCa,KAbD,CAaO,UAACC,KAAD,EAAW;AAChBT,QAAAA,OAAO,CAACS,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,OAfD;AAgBD;AA1DM,GA1CmB;AAsG5BC,EAAAA,OAAO,EAAE;AAtGmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    productsArray: [],\n    user: {\n      isAuthenticated: false,\n      name: \"\",\n      email: \"\",\n      idToken: \"\",\n      accessToken: \"\",\n      partner: false\n    },\n    endpoints: {\n      login: \"http://localhost:3000/login\",\n      partnercheck: \"http://localhost:8000/check\",\n      products: \"http://localhost:8000/products\",\n    },\n  },\n  getters: {\n      getProducts(state) {\n        return state.productsArray;\n      }\n  },\n  mutations: {\n    logout(state) {\n      state.user.isAuthenticated = false;\n      state.user.name = \"\";\n      state.user.email =\"\";\n      state.user.idToken =\"\";\n      state.user.accessToken = \"\";\n      state.user.partner = \"\";\n    },\n    login(state, payload) {\n      state.user.isAuthenticated = true;\n      state.user.name = payload.name;\n      state.user.email =payload.email;\n      state.user.idToken =payload.idToken;\n      state.user.accessToken =payload.accessToken;\n    },\n     SET_PARTNER(state, partner) { \n      state.user.partner = partner;\n    },\n  },\n  actions: {\n    async getProducts({state}){\n      let accessToken = state.user.accessToken;\n      const AuthStr = 'Bearer '.concat(accessToken);\n      const AuthHeader = { 'Authorization': AuthStr};\n        let response = await fetch(state.endpoints.products, {\n          method: 'GET',\n          headers: {\n            'Authorization': AuthHeader\n          }\n        });\n        if (response.ok) {\n          state.productsArray = response.json();\n        }\n    },\n    async checkPartner({ state, commit }) {\n      let accessToken = state.user.accessToken;\n      console.log(\"checking partner access\", state.endpoints.partnercheck);\n      const AuthStr = 'Bearer '.concat(accessToken);\n      const AuthHeader = { 'Authorization': AuthStr};\n      console.log(\"AuthToken=\",AuthHeader);\n      let response = await fetch(state.endpoints.partnercheck, { \n        method: 'GET',\n        headers: {\n          'Authorization': AuthStr }\n        });\n      console.log(\"partneraccess\",response);\n      if (response.ok) {\n        commit('SET_PARTNER', true);\n        console.log(\"TRUE\");\n      } else {\n        commit('SET_PARTNER', false);\n        console.log(\"FALSE\");\n      }\n    },\n    registerProduct({ state }, obj) {\n      let productsurl = state.endpoints.products;\n      console.log(productsurl);\n      let accessToken = state.user.accessToken;\n      const AuthStr = 'Bearer '.concat(accessToken);\n      console.log(AuthStr);\n      console.log(obj);\n      axios(productsurl, { \n          method: 'POST',\n          headers: {\n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': AuthStr\n          },\n          credentials: 'include',\n          data: obj\n      })\n      .then(response => {\n        console.log('Response:', response);\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n    },\n  },\n  modules: {\n  }\n})"]},"metadata":{},"sourceType":"module"}